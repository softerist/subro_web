# Production Environment Configuration Template
# Copy this file to .env.prod and fill in the values

# --- General Application ---
APP_ENV=production
# Domain name for Caddy (e.g., subro.example.com)
DOMAIN_NAME=example.com
# Admin email for Caddy (Let's Encrypt)
ACME_EMAIL=admin@example.com

# --- Security ---
# Generate valid tokens
FIRST_SUPERUSER_EMAIL=admin@example.com
FIRST_SUPERUSER_PASSWORD=CHANGE_THIS_INITIAL_PASSWORD
SETUP_TOKEN=CHANGE_THIS_SETUP_TOKEN
VITE_SETUP_TOKEN=CHANGE_THIS_SETUP_TOKEN  # Must match SETUP_TOKEN for frontend

# --- Database ---
POSTGRES_SERVER=db
POSTGRES_PORT=5432
POSTGRES_DB=subappdb
POSTGRES_USER=subapp_user
POSTGRES_PASSWORD=CHANGE_THIS_DB_PASSWORD

# --- Frontend ---
# URL where the API is reachable from the user's browser (usually same as domain)
VITE_API_BASE_URL=https://${DOMAIN_NAME}/api/v1
# WebSocket Base URL
VITE_WS_BASE_URL=wss://${DOMAIN_NAME}/api/v1

# --- Security Hardening ---
# JSON array of allowed origins
BACKEND_CORS_ORIGINS=["https://${DOMAIN_NAME}"]

# --- Job Settings ---
ALLOWED_MEDIA_FOLDERS=["/mnt/sata0/Media"]

# --- Backup Config ---
# For backup script (Task 8.3)
BACKUP_DIR=/backups
BACKUP_RETENTION_DAYS=7
BACKUP_ENCRYPTION_KEY="age-secret-key-..." # Optional if using age encryption

# --- Authentication (JWT) ---
JWT_SECRET_KEY=CHANGE_THIS_TO_A_VERY_STRONG_RANDOM_VALUE
JWT_REFRESH_SECRET_KEY=CHANGE_THIS_TO_ANOTHER_VERY_STRONG_RANDOM_VALUE
# Data-at-rest encryption keys (comma-separated). Keep stable across JWT rotations.
DATA_ENCRYPTION_KEYS=CHANGE_THIS_DATA_ENCRYPTION_KEY
# Optional: override reset/verification token secrets
RESET_PASSWORD_TOKEN_SECRET=CHANGE_THIS_RESET_TOKEN_SECRET
VERIFICATION_TOKEN_SECRET=CHANGE_THIS_VERIFICATION_TOKEN_SECRET
API_KEY_PEPPER=CHANGE_THIS_API_KEY_PEPPER
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# --- External Services API Keys ---
# JSON array of DeepL keys
DEEPL_API_KEYS='["key1:fx","key2:fx"]'
OMDB_API_KEY=change_me
TMDB_API_KEY=change_me
OPENSUBTITLES_API_KEY=change_me

# --- OpenSubtitles Credentials ---
OPENSUBTITLES_USERNAME=change_me
OPENSUBTITLES_PASSWORD=change_me

# --- Google Cloud ---
GOOGLE_PROJECT_ID=change_me
GOOGLE_CREDENTIALS_PATH=/app/secrets/google-api-config.json

# --- qBittorrent ---
QBITTORRENT_HOST=localhost
QBITTORRENT_PORT=8080
QBITTORRENT_USERNAME=admin
QBITTORRENT_PASSWORD=change_this_password
