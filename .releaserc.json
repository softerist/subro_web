{
  "branches": ["main"],
  "tagFormat": "v${version}",
  "plugins": [
    "@semantic-release/commit-analyzer",
    "@semantic-release/release-notes-generator",
    ["@semantic-release/changelog", {
      "changelogFile": "CHANGELOG.md",
      "changelogTitle": "# Changelog\n\nAll notable changes to this project will be documented in this file.\n"
    }],
    ["@semantic-release/exec", {
      "prepareCmd": "sed -i 's/\"version\": \"[^\"]*\"/\"version\": \"${nextRelease.version}\"/' frontend/package.json && sed -i 's/^version = \"[^\"]*\"/version = \"${nextRelease.version}\"/' backend/pyproject.toml && sed -i 's/APP_VERSION: str = Field(default=\"[^\"]*\"/APP_VERSION: str = Field(default=\"${nextRelease.version}\"/' backend/app/core/config.py"
    }],
    ["@semantic-release/git", {
      "assets": [
        "CHANGELOG.md",
        "frontend/package.json",
        "backend/pyproject.toml",
        "backend/app/core/config.py"
      ],
      "message": "chore(release): ${nextRelease.version} [skip ci]"
    }],
    "@semantic-release/gitlab"
  ]
}
