# /home/user/subro_web/backend/.env.test
# =========================
# General
# =========================
APP_ENV=development
DEBUG=True
OPEN_SIGNUP=True

# Allow the integration test’s temp folder
ALLOWED_FOLDERS=/tmp
TEST_FOLDER_BASE=/tmp

# =========================
# Test database URL – host side, via db_test (5433:5432)
# =========================
# Async URL used by your app (FastAPI / SQLAlchemy async engine)
ASYNC_SQLALCHEMY_DATABASE_URL=postgresql+asyncpg://admin:Pa44w0rd@localhost:5433/subappdb

# If you have a separate async URL for the worker, you can also set:
# ASYNC_SQLALCHEMY_DATABASE_URL_WORKER=postgresql+asyncpg://user:password@localhost:5433/appdb_test

# SQLAlchemy-style DATABASE_URL if your settings still rely on it
DATABASE_URL=postgresql+asyncpg://admin:Pa44w0rd@localhost:5433/subappdb

# Dedicated pytest DB to avoid clobbering the running API schema during integration tests
TEST_DATABASE_URL=postgresql+asyncpg://admin:Pa44w0rd@localhost:5433/subappdb_pytest

# =========================
# Database (used by Postgres container / tooling)
# =========================
POSTGRES_SERVER=localhost
POSTGRES_PORT=5433
POSTGRES_USER=admin
POSTGRES_PASSWORD=Pa44w0rd
POSTGRES_DB=subappdb

# =========================
# Redis / Celery
# =========================
REDIS_HOST=localhost
REDIS_PORT=6379
CELERY_BROKER_URL=redis://localhost:6379/0
REDIS_PUBSUB_URL=redis://localhost:6379/2

# =========================
# JWT Secrets (test-only!)
# =========================
JWT_SECRET_KEY=test-secret-key-for-development-only
JWT_REFRESH_SECRET_KEY=test-refresh-secret-key-for-development-only
API_KEY_PEPPER=test-api-key-pepper

# =========================
# Superuser (for tests)
# =========================
FIRST_SUPERUSER_EMAIL=admin@example.com
FIRST_SUPERUSER_PASSWORD=SecurePassword123
