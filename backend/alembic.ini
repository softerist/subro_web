# A generic Alembic configuration file.
#
# Lines starting with "#" or ";" are comments.
#
# To use this file, adapt it to your specific needs, then
# run Alembic commands, for example:
#
# alembic revision -m "create account table"
# alembic upgrade head
#

[alembic]
# path to migration scripts relative to the alembic.ini file
# This should point to the directory containing env.py and the versions/ subdirectory.
script_location = alembic

# template for migration file names, e.g. "%%(rev)s_%%(slug)s.py"
# (slug is a short string derived from the revision message)
# Other options: "%%(year)d%%(month).2d%%(day).2d_%%(rev)s_%%(slug)s.py"
file_template = %%(rev)s_%%(slug)s

# sys.path path, will be prepended to sys.path if present.
# defaults to "%(here)s" which is the directory of alembic.ini
# Usually not needed if your app is installed in the environment or discoverable.
# prepend_sys_path = .

# timezone for generated revision files
# leave blank for UTC
# timezone =

# max length of characters to truncate from version names
# truncate_slug_length = 40

# set to 'true' to run the environment script unconditionally,
# even if database engineers will generate SQL DDL offline
# 'false' prevents the script from running if a DDL generation
# method is chosen.
# output_buffer = sys.stdout

# The [alembic] section is the only one that's required to be present.

# Format for database URL for the 'sqlalchemy.url' setting:
# driver://user:pass@host/dbname[?key=value&key=value...]
#
# URL for the database connection.
# For an async setup with PostgreSQL (using asyncpg driver):
# sqlalchemy.url = postgresql+asyncpg://admin:Pa44w0rd@db:5432/subappdb
#
# !!! IMPORTANT !!!
# Your backend/alembic/env.py script is configured to get this URL
# directly from your application's settings (app.core.config.settings.ASYNC_DATABASE_URI).
# Therefore, this line is intentionally commented out.
# If it were uncommented, env.py would still try to prioritize the URL
# from your application settings to ensure consistency.
# sqlalchemy.url = driver://user:pass@host/dbname


# Logging configuration
[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = WARN
handlers = console
qualname =

[logger_sqlalchemy]
level = WARN
handlers =
qualname = sqlalchemy.engine

[logger_alembic]
level = INFO
handlers =
qualname = alembic

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S
