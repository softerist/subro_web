# /home/user/subro_web/backend/.env.test.example
# =========================
# General
# =========================
APP_ENV=development
DEBUG=True
OPEN_SIGNUP=True

# Allow the integration test's temp folder
ALLOWED_FOLDERS=/tmp
TEST_FOLDER_BASE=/tmp

# =========================
# Test database URL - host side, via db_test (5433:5432)
# =========================
# Async URL used by your app (FastAPI / SQLAlchemy async engine)
ASYNC_SQLALCHEMY_DATABASE_URL=postgresql+asyncpg://admin:CHANGE_ME_TEST_DB_PASSWORD@localhost:5433/subappdb

# If you have a separate async URL for the worker, you can also set:
# ASYNC_SQLALCHEMY_DATABASE_URL_WORKER=postgresql+asyncpg://user:password@localhost:5433/appdb_test

# SQLAlchemy-style DATABASE_URL if your settings still rely on it
DATABASE_URL=postgresql+asyncpg://admin:CHANGE_ME_TEST_DB_PASSWORD@localhost:5433/subappdb

# Dedicated pytest DB to avoid clobbering the running API schema during integration tests
TEST_DATABASE_URL=postgresql+asyncpg://admin:CHANGE_ME_TEST_DB_PASSWORD@localhost:5433/subappdb_pytest

# =========================
# Database (used by Postgres container / tooling)
# =========================
POSTGRES_SERVER=localhost
POSTGRES_PORT=5433
POSTGRES_USER=admin
POSTGRES_PASSWORD=CHANGE_ME_TEST_DB_PASSWORD
POSTGRES_DB=subappdb

# =========================
# Redis / Celery
# =========================
REDIS_HOST=localhost
REDIS_PORT=6379
CELERY_BROKER_URL=redis://localhost:6379/0
REDIS_PUBSUB_URL=redis://localhost:6379/2

# =========================
# JWT Secrets (test-only!)
# =========================
JWT_SECRET_KEY=CHANGE_ME_TEST_JWT_SECRET_KEY
JWT_REFRESH_SECRET_KEY=CHANGE_ME_TEST_JWT_REFRESH_SECRET_KEY
API_KEY_PEPPER=CHANGE_ME_TEST_API_KEY_PEPPER

# =========================
# Superuser (for tests)
# =========================
FIRST_SUPERUSER_EMAIL=admin@example.com
FIRST_SUPERUSER_PASSWORD=CHANGE_ME_TEST_SUPERUSER_PASSWORD
